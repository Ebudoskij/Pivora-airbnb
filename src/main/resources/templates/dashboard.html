<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ–ª–æ–≤–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/1.0.10/datepicker.min.css">
    <link th:href="@{/css/style.css}" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container">
        <a class="navbar-brand" href="/dashboard">Accomodation Search</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="–ü–µ—Ä–µ–º–∏–∫–∞—á –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/dashboard">–ì–æ–ª–æ–≤–Ω–∞</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/properties/createProperty">–î–æ–¥–∞—Ç–∏ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/properties/list">–í–∞—à—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/bookings/list">–í–∞—à—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="home-container">
    <div class="home-search-section">
        <!-- –ë–ª–æ–∫ –∑ —Ç–µ–∫—Å—Ç–æ–º "–®—É–∫–∞–π –Ω–∞ Pivo" —Ç–∞ –æ–±–º—ñ–Ω–Ω–∏–∫ –≤–∞–ª—é—Ç –∑–ª—ñ–≤–∞ -->
        <div class="hero-text">
            <h1 class="home-title">
                –®—É–∫–∞–π –Ω–∞
                <div class="pivo-logo">Pivo</div>
            </h1>
            <div class="from-lun">
                <span>–≤—ñ–¥</span>
                <div class="pivo-circle">K-16</div>
            </div>
            <div class="currency-exchange">
                <div class="currency-item">
                    <span class="currency-value">$1 = 42.50 –≥—Ä–Ω</span>
                </div>
                <div class="currency-item">
                    <span class="currency-value">‚Ç¨1 = 45.80 –≥—Ä–Ω</span>
                </div>
                <div class="currency-item">
                    <span class="currency-value">üç∫ = 10000 –≥—Ä–Ω</span>
                </div>
            </div>
        </div>

        <!-- –ë–ª–æ–∫ –ø–æ—à—É–∫—É —Å–ø—Ä–∞–≤–∞ -->
        <div class="hero-search">
            <div class="property-type-label">
                –û—Ä–µ–Ω–¥–∞ –Ω–µ—Ä—É—Ö–æ–º–æ—Å—Ç—ñ
            </div>

            <!-- –§–æ—Ä–º–∞ –¥–ª—è –ø–æ—à—É–∫—É –∑ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é –Ω–∞ /search.html -->
            <form action="/properties/search" method="POST">
                <!-- –ü–æ–ª–µ –¥–ª—è –≤–≤–µ–¥–µ–Ω–Ω—è –º—ñ—Å—Ç–∞ -->
                <div class="form-group mb-3">
                    <input type="text" class="search-input" id="city" name="city" placeholder="–í–≤–µ–¥—ñ—Ç—å –º—ñ—Å—Ç–æ" required />
                </div>

                <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä –¥–ª—è –≤–∏–±–æ—Ä—É –¥–∞—Ç–∏ –∑–∞—ó–∑–¥—É -->
                <div class="form-group date-picker-container">
                    <label class="date-label">–î–∞—Ç–∞ –∑–∞—ó–∑–¥—É</label>
                    <div class="input-group">
                        <input type="date" class="search-input datepicker" id="check-in-date" name="startDate" placeholder="–î–∞—Ç–∞ –∑–∞—ó–∑–¥—É" required>
                        <div class="input-group-append">
              <span class="input-group-text calendar-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                </svg>
              </span>
                        </div>
                    </div>
                </div>

                <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä –¥–ª—è –≤–∏–±–æ—Ä—É –¥–∞—Ç–∏ –≤–∏—ó–∑–¥—É -->
                <div class="form-group date-picker-container">
                    <label class="date-label">–î–∞—Ç–∞ –≤–∏—ó–∑–¥—É</label>
                    <div class="input-group">
                        <input type="date" class="search-input datepicker" id="check-out-date" name="endDate" placeholder="–î–∞—Ç–∞ –≤–∏—ó–∑–¥—É" required>
                        <div class="input-group-append">
              <span class="input-group-text calendar-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                  <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                </svg>
              </span>
                        </div>
                    </div>
                </div>

                <button type="submit" class="search-button">–ü–û–®–£–ö</button>
            </form>
        </div>
    </div>
</div>
<footer class="bg-light text-center py-3">
    <p>&copy; 2025 Accomodation Search. –£—Å—ñ –ø—Ä–∞–≤–∞ –∑–∞—Ö–∏—â–µ–Ω—ñ.</p>
</footer>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.0.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/1.0.10/datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/1.0.10/i18n/datepicker.uk-UA.min.js"></script>

<script>
    $(document).ready(function() {
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–∞–ª–µ–Ω–¥–∞—Ä—ñ–≤
        $('#check-in-date').datepicker({
            format: 'dd.mm.yyyy',
            autoclose: true,
            startDate: new Date(),
            language: 'uk-UA'
        }).on('changeDate', function(selected) {
            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—É –¥–∞—Ç—É –¥–ª—è –≤–∏—ó–∑–¥—É
            var minDate = new Date(selected.date);
            minDate.setDate(minDate.getDate() + 1);
            $('#check-out-date').datepicker('setStartDate', minDate);

            // –Ø–∫—â–æ –¥–∞—Ç–∞ –≤–∏—ó–∑–¥—É –º–µ–Ω—à–∞ –∑–∞ –¥–∞—Ç—É –∑–∞—ó–∑–¥—É, –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —ó—ó –Ω–∞ –¥–µ–Ω—å –ø—ñ—Å–ª—è –∑–∞—ó–∑–¥—É
            if ($('#check-out-date').datepicker('getDate') < minDate) {
                $('#check-out-date').datepicker('setDate', minDate);
            }

            // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π input –∑ —Ñ–æ—Ä–º–∞—Ç–æ–º ISO –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ (YYYY-MM-DD)
            var isoDate = selected.date.toISOString().split('T')[0];
            $('#check-in-date-hidden').val(isoDate);
        });

        $('#check-out-date').datepicker({
            format: 'dd.mm.yyyy',
            autoclose: true,
            startDate: new Date(),
            language: 'uk-UA'
        }).on('changeDate', function(selected) {
            // –û–Ω–æ–≤–ª—é—î–º–æ –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–π input –∑ —Ñ–æ—Ä–º–∞—Ç–æ–º ISO –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞ (YYYY-MM-DD)
            var isoDate = selected.date.toISOString().split('T')[0];
            $('#check-out-date-hidden').val(isoDate);
        });
    });
</script>

</body>
</html>